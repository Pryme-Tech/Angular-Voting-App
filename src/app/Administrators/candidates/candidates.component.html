	<!--div class="container elevation-5 mt-5" #see>
		some content
	</div-->

	<!-- <div class="text-center bg-success" *ngIf="flashMessage"
style="position: fixed; font-weight: bold; font-family: monospace !important; font-size: 1.2em; top: 1%; left: 30%; 
padding: 2%; width: 50%; box-sizing: border-box; z-index: 99;" >

{{flashMessage}}

</div> -->


<!---  Add category -->

	<div class="hidden add_category d-flex flex-column position-fixed justify-content-center" id="addcategory" >
<!-- add_category_rm -->

			<form [formGroup]="addCategory" (ngSubmit)="addCategorySubmit()" class="container rounded bg-dark elevation-5 p-5" id="categoryform" style="position: relative;" >

				<i class="fas fa-times-circle text-danger" id="hideAddCategory" style="font-style: normal; cursor: pointer; position: absolute; top: 10%; right: 5%; "></i>

					 <div class="form-group">
                       <label for="name"> Enter name for new category: </label>

					   <p class=" text-danger " *ngIf=" submitted && addCategoryControls['categoryname'].errors?.['required'] " > *** This field is required *** </p>

					   <p *ngIf="successMessage" class="text-success " > {{successMessage}} </p>
					   <p *ngIf="errorMessage" class="text-danger  " > {{errorMessage}} </p>
                       <input type="text" class="form-control" placeholder="Enter Category Name" id="name" formControlName="categoryname">
                      </div>

                      <div class="text-right">
                      <button type="submit" class="btn btn-success" id="submitCategory" >Add Category</button>
                  </div>

			</form>

		</div>

		<!-- End Add Category -->

		<!---  Add Candidates form -->

	<div class="add_candidate hidden d-flex flex-column position-fixed" id="addcandidate" #add_candidate_rm>

		<!-- <h6 class="bg-success mx-auto elevation-5 text-center py-5" id="submitCandidateMessage"> {{submitCandidateMessage}} </h6> -->

		<!-- <div class="canform m-auto"> -->

			<form class="container bg-dark elevation-5 p-5" id="candidateform" [formGroup]="addCandidate" (ngSubmit)="submitCandidate()" style="position: relative;" >

				<i class="fas fa-times-circle fa-2x text-danger" id="hideAddCandidate" style="font-style: normal; cursor: pointer; position: absolute; top: 2%; right: 5%; "></i>

				<div class="form-group">

					<!-- submitCandidateControls -->
					<p *ngIf="submitted && errorMessage" class="text-danger" > {{errorMessage}} </p>

					<p *ngIf="submitted && successMessage" class="text-success" > {{successMessage}} </p>

                       <label for="name"> Category: </label>
					   <p *ngIf=" submitted && submitCandidateControls['category'].errors?.['required'] " class="text-danger" >
						*** This field is required ***
					</p>
                       <input type="text" Disabled class="form-control" placeholder="Enter Category Name" id="name" formControlName="category" >
                      </div>

					 <div class="form-group mt-3">
                       <label for="name"> Name Of Candidate: </label>
					   <p *ngIf=" submitted && submitCandidateControls['candidatename'].errors?.['required'] " class="text-danger" >
						*** This field is required ***
					</p>
                       <input type="text" class="form-control" placeholder="Enter Candidate Name" id="name" formControlName="candidatename" >
                      </div>

                      <div class="form-group mt-3">

                      	<div class="row">

                      	<div class="col-sm-5 py-5">
                       <label for="photo"> Upload Image: </label>
					   <p *ngIf=" submitted && submitCandidateControls['avatar'].errors?.['required'] " class="text-danger" >
						*** This field is required ***
					</p>
                       <input type="file" class="form-control" id="photo"  #file (change)="imagePreview(file.files)" >
                   </div>

                   <div class="col-sm-7" >
                   	<h5 class="text-center py-4"> Image Preview </h5>
                   	<!--p *ngIf="src"> {{src.length}} </p-->
                   	<div class="m-auto text-center" style="margin-bottom: 3% !important; height: 200px; border-radius: .2rem; border: 1px dotted;">
                   		<img [src]="src" style=" height: inherit;" />
                   	</div>
                   </div>

                      </div>
                  </div>

                      <div class="text-right">
                      <button type="submit" class="btn btn-success" id="submitCategory" >Add Candidate</button>
                  </div>

			</form>

		<!-- </div> -->

		</div>

		<!-- End Add Candidates form -->

		<!---  Update Candidates form -->

	<div class="add_candidate_rm justify-content-center d-flex flex-column" id="addcategory" #update_candidate>

		<h6 class="bg-success mx-auto elevation-5 text-center py-5" id="submitCandidateMessage"> {{submitCandidateMessage}} </h6>

		<div class="canform m-auto">

			<div class="bg-light text-right">
				<i class="fas fa-times-circle text-danger" id="hideAddCandidate" style="font-style: normal; cursor: pointer;" >Close</i> 
				<!-- (click)="toggleAddCandidate(this.update_candidate,'close')" -->
			</div>

			<form class="bg-dark elevation-5 m-auto p-5" id="candidateform" [formGroup]="updateCandidate" (ngSubmit)="submitUpdateCandidate()">

				<div class="form-group">
                       <label for="name"> Category: </label>
                       <input type="text" Disabled class="form-control" placeholder="Enter Category Name" id="name" formControlName="category" >
                      </div>

					 <div class="form-group mt-4">
                       <label for="name"> Name Of Candidate: </label>
                       <input type="text" class="form-control" placeholder="Enter Category Name" id="name" formControlName="name" >
                      </div>

                      <div class="form-group mt-4">
                       <label for="name"> Photo: </label>
                       <input type="text" class="form-control" placeholder="Enter Category Name" id="name" formControlName="photo" >
                      </div>

                      <div class="form-group mt-4">

                      	<div class="row">

                      	<div class="col-sm-5 py-5">
                       <label for="photo"> Upload Image: </label>
                       <input type="file" class="form-control" id="photo"  #file (change)="imagePreview(file.files)" >
                   </div>

                   <div class="col-sm-7" >
                   	<h5 class="text-center py-4"> Image Preview </h5>
                   	<!--p *ngIf="src"> {{src.length}} </p-->
                   	<div class="m-auto" style="margin-bottom: 3% !important; height: 350px; border-radius: .2rem; width: 300px; border: 1px dotted;">
                   		<img [src]="src" style="width: inherit; height: inherit;" />
                   	</div>
                   </div>

                      </div>
                  </div>

                      <div class="text-right">
                      <button type="submit" class="btn btn-success" id="submitCategory" >Update Candidate</button>
                  </div>

			</form>

		</div>

		</div>

		<!-- End Update Candidates form -->

		<!-- <div *ngIf="votingname" class="text-center py-3 bg-dark">
<h4> {{votingname}} </h4>
		</div> -->

		<!-- Category view with candidates in each category -->

		<!-- <div *ngIf="successMessage" class="text-center border border-5 mt-2 text-success py-2"> {{successMessage}} </div>

		<div *ngIf="errorMessage" class="text-center border border-5 mt-2 text-danger py-2"> {{errorMessage}} </div> -->

	<div class="card container categories mt-3">

		<div class="card-header text-center font-weight-bold" style="font-size: .9em;"> CATEGORIES & CANDIDATES UNDER THIS EVENT </div>

		<div class="card-body" >

			<div class="text-right mb-3">

			<button class="btn btn-light" style="border: 1px solid" id="showAddCategory" > <i class="fas fa-plus"> </i> Add a New Category </button>

		</div>

			<div class="card" *ngFor="let y of categories">

				<h6 class="card-header font-weight-bold d-flex justify-content-between " data-bs-toggle="collapse" [attr.data-bs-target]="'#x'+y.index" style="color: green;" (click)="this.s.classList.toggle('fa-angle-up')">

					<span style="width: 50%;"> {{ y.category }} </span> 
					<span style="width: 50%;" class="text-right font-weight-bolder fa-solid fa-angle-down" #s>  </span> 

				</h6>

				<div class="card-body collapse" [id]="'x'+y.index" >

					<div class="text-right m-0 p-0">

			<button class="btn btn-light showAddCandidate mx-2 " #showAddCandidate style="border: 1px solid" (click)=toggleAddCandidate(y.category) > <i class="fas fa-plus" > </i> Add New Candidate </button>

			<button class="btn btn-light text-danger border border-5">Delete this category</button>

		</div>

					<ol>

						<ng-container *ngFor="let x of candidates">

						<li class="mt-3" *ngIf="x.category === y.category">

							<div class="row">

								<div class="col-lg-3 col-md-3 col-sm-3">

									<div class="m-auto" style="border: 1px solid; width: max-content; border-radius: 1rem; overflow: hidden;"> <img class="rounded" style="width: 100px;" [src]=x.photo> </div>

								</div>

								<div class="col-lg-5 col-md-5 col-sm-5  ">

									<div class="justify-content-center d-flex flex-column" style="height: 100%;">

									<h6 class="text-center py-2" > {{x.candidatename}} </h6>

								</div>

								</div>

								<div class="col-lg-4 col-md-4 col-sm-4 bg-light" >

									<div class="justify-content-center d-flex flex-column" style="height: 100%;">

									<button class="btn btn-success" onclick="alert('SORRY!!! This feature is not available at the moment.')">
									 Edit Candidate 
									 <!-- (click)=toggleUpdateCandidate(this.update_candidate,y.category,x.name,x.photo) -->
									</button>

									<button class="btn btn-danger mt-2" (click)=deleteCandidate(x.name,x.category) [value]="x.name"> Delete Candidate </button>

								</div>

								</div>

							</div>

						</li>

					</ng-container>

					</ol>

				</div>


				<div *ngIf="y.count > 1" class="card-footer text-center font-weight-bold">
<span style="color: green; font-size: 1.2em;"> {{y.count}} CANDIDATES </span>
				</div>

				<div *ngIf="!(y.count > 1)" class="card-footer text-center font-weight-bold">
<span style="color: green; font-size: 1.2em;"> {{y.count}} CANDIDATE </span>
				</div>

			</div>

		</div>

</div>

<!-- End Of Category View -->
